<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="476px" preserveAspectRatio="none" style="width:875px;height:476px;" version="1.1" viewBox="0 0 875 476" width="875px" zoomAndPan="magnify"><defs><filter height="300%" id="fm35qn06wneh0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster node 1--><polygon fill="#FFFFFF" filter="url(#fm35qn06wneh0)" points="88,24,142,24,149,47.6094,427,47.6094,427,114,88,114,88,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="88" x2="149" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="92" y="40.5332">node 1</text><!--cluster node 2--><polygon fill="#FFFFFF" filter="url(#fm35qn06wneh0)" points="451,24,505,24,512,47.6094,790,47.6094,790,114,451,114,451,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="451" x2="512" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="455" y="40.5332">node 2</text><!--cluster node 3--><polygon fill="#FFFFFF" filter="url(#fm35qn06wneh0)" points="98,268,152,268,159,291.6094,437,291.6094,437,358,98,358,98,268" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="98" x2="159" y1="291.6094" y2="291.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="102" y="284.5332">node 3</text><!--cluster node 4--><polygon fill="#FFFFFF" filter="url(#fm35qn06wneh0)" points="461,268,515,268,522,291.6094,800,291.6094,800,358,461,358,461,268" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="461" x2="522" y1="291.6094" y2="291.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="465" y="284.5332">node 4</text><!--entity java code 1--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="317.5" y="60"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="312.5" y="65"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="312.5" y="87.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="327.5" y="84.5332">java code 1</text><!--entity cluster manager 1--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="104" y="60"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="99" y="65"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="99" y="87.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="114" y="84.5332">cluster manager 1</text><!--entity java code 2--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="680.5" y="60"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="675.5" y="65"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="675.5" y="87.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="690.5" y="84.5332">java code 2</text><!--entity cluster manager 2--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="467" y="60"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="462" y="65"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="462" y="87.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="477" y="84.5332">cluster manager 2</text><!--entity java code 3--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="327.5" y="304"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="322.5" y="309"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="322.5" y="331.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="337.5" y="328.5332">java code 3</text><!--entity cluster manager 3--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="114" y="304"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="109" y="309"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="109" y="331.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="124" y="328.5332">cluster manager 3</text><!--entity java code 4--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="690.5" y="304"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="685.5" y="309"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="685.5" y="331.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="700.5" y="328.5332">java code 4</text><!--entity cluster manager 4--><rect fill="#FEFECE" filter="url(#fm35qn06wneh0)" height="37.6094" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="477" y="304"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="472" y="309"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="472" y="331.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="487" y="328.5332">cluster manager 4</text><!--entity multicast--><ellipse cx="330" cy="191" fill="#FEFECE" filter="url(#fm35qn06wneh0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="302.5" y="222.5332">multicast</text><path d="M430.5,169.5 L430.5,212.2031 A0,0 0 0 0 430.5,212.2031 L637.5,212.2031 A0,0 0 0 0 637.5,212.2031 L637.5,179.5 L627.5,169.5 L538,169.5 L534,98.164 L530,169.5 L430.5,169.5 A0,0 0 0 0 430.5,169.5 " fill="#FBFB77" filter="url(#fm35qn06wneh0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M627.5,169.5 L627.5,179.5 L637.5,179.5 L627.5,169.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="436.5" y="187.9951">Each node sends its information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="436.5" y="204.3467">to the cluster using multicast.</text><path d="M68.5,405 L68.5,464.0547 A0,0 0 0 0 68.5,464.0547 L293.5,464.0547 A0,0 0 0 0 293.5,464.0547 L293.5,415 L283.5,405 L185,405 L181,342.082 L177,405 L68.5,405 A0,0 0 0 0 68.5,405 " fill="#FBFB77" filter="url(#fm35qn06wneh0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M283.5,405 L283.5,415 L293.5,415 L283.5,405 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="74.5" y="423.4951">Every nodes receive the information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="74.5" y="439.8467">sent by the others and maintains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="74.5" y="456.1982">its own in memory database.</text><path d="M6,161.5 L6,220.5547 A0,0 0 0 0 6,220.5547 L260,220.5547 A0,0 0 0 0 260,220.5547 L260,195 L320.605,191 L260,187 L260,171.5 L250,161.5 L6,161.5 A0,0 0 0 0 6,161.5 " fill="#FBFB77" filter="url(#fm35qn06wneh0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M250,161.5 L250,171.5 L260,171.5 L250,161.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="12" y="179.9951">Information (endpoints, groups, services)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="12" y="196.3467">are send to a multicast address which</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="12" y="212.6982">broadcast the message to every nodes.</text><path d="M610.5,405 L610.5,464.0547 A0,0 0 0 0 610.5,464.0547 L863.5,464.0547 A0,0 0 0 0 863.5,464.0547 L863.5,415 L853.5,405 L741,405 L737,342.082 L733,405 L610.5,405 A0,0 0 0 0 610.5,405 " fill="#FBFB77" filter="url(#fm35qn06wneh0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M853.5,405 L853.5,415 L863.5,415 L853.5,405 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="616.5" y="423.4951">The local java code can get information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="616.5" y="439.8467">about nodes, groups and services</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="616.5" y="456.1982">by requesting the local cluster manager.</text><!--link cluster manager 1 to java code 1--><path d="M243.472,79 C268.203,79 295.183,79 317.334,79 " fill="none" id="cluster manager 1-java code 1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="238.231,79,247.231,83,243.231,79,247.231,75,238.231,79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="256.25" y="72.4951">request</text><!--link cluster manager 2 to java code 2--><path d="M606.472,79 C631.203,79 658.183,79 680.334,79 " fill="none" id="cluster manager 2-java code 2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="601.231,79,610.231,83,606.231,79,610.231,75,601.231,79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="619.25" y="72.4951">request</text><!--link cluster manager 3 to java code 3--><path d="M253.472,323 C278.203,323 305.183,323 327.334,323 " fill="none" id="cluster manager 3-java code 3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="248.231,323,257.231,327,253.231,323,257.231,319,248.231,323" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="266.25" y="316.4951">request</text><!--link cluster manager 4 to java code 4--><path d="M616.472,323 C641.203,323 668.183,323 690.334,323 " fill="none" id="cluster manager 4-java code 4" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="611.231,323,620.231,327,616.231,323,620.231,319,611.231,323" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="629.25" y="316.4951">request</text><!--link multicast to cluster manager 4--><path d="M343.837,200.406 C377.016,220.561 461.892,272.121 509.784,301.215 " fill="none" id="multicast-cluster manager 4" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="514.3,303.958,508.6849,295.8666,510.0267,301.362,504.5313,302.7039,514.3,303.958" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="339.195,197.586,344.8113,205.6765,343.4687,200.1813,348.9639,198.8387,339.195,197.586" style="stroke: #A80036; stroke-width: 1.0;"/><!--link multicast to cluster manager 3--><path d="M316.796,203.52 C291.854,225.281 237.463,272.737 205.603,300.534 " fill="none" id="multicast-cluster manager 3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="201.833,303.824,211.2442,300.9207,205.6004,300.5366,205.9844,294.8928,201.833,303.824" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="320.679,200.132,311.2678,203.0353,316.9116,203.4194,316.5276,209.0632,320.679,200.132" style="stroke: #A80036; stroke-width: 1.0;"/><!--link cluster manager 2 to multicast--><path d="M495.709,100.647 C449.525,125.55 374.282,166.123 343.636,182.647 " fill="none" id="cluster manager 2-multicast" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="339.112,185.087,348.9323,184.337,343.5132,182.7143,345.1359,177.2952,339.112,185.087" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="500.314,98.164,490.4937,98.914,495.9128,100.5367,494.2901,105.9558,500.314,98.164" style="stroke: #A80036; stroke-width: 1.0;"/><!--link cluster manager 1 to multicast--><path d="M201.636,101.195 C236.358,125.216 291.396,163.293 316.598,180.728 " fill="none" id="cluster manager 1-multicast" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="320.945,183.736,315.8192,175.3261,316.8331,180.8914,311.2678,181.9052,320.945,183.736" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="197.256,98.164,202.3818,106.5739,201.3679,101.0086,206.9332,99.9948,197.256,98.164" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

folder "node 1" {
    [java code 1] -left-> [cluster manager 1]: request
}

folder "node 2" {
    [java code 2] -left-> [cluster manager 2]: request
}

folder "node 3" {
    [java code 3] -left-> [cluster manager 3]: request
}

folder "node 4" {
    [java code 4] -left-> [cluster manager 4]: request
}

multicast <-down-> [cluster manager 4]
multicast <-down-> [cluster manager 3]
multicast <-up-> [cluster manager 2]
multicast <-up-> [cluster manager 1]

note bottom of [cluster manager 2]
  Each node sends its information
  to the cluster using multicast.
end note

note bottom of [cluster manager 3]
  Every nodes receive the information
  sent by the others and maintains
  its own in memory database.
end note

note left of [multicast]
Information (endpoints, groups, services)
are send to a multicast address which
broadcast the message to every nodes.
end note

note bottom of [java code 4]
The local java code can get information
about nodes, groups and services
by requesting the local cluster manager.
end note
@enduml

PlantUML version 1.2018.01(Sun Jan 28 19:08:22 CET 2018)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_161-b12
Operating System: Windows 7
OS Version: 6.1
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>